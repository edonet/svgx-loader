/**
 *****************************************
 * Created by lifx
 * Created on 2018-05-29 10:23:32
 *****************************************
 */
'use strict';


/**
 *****************************************
 * 加载依赖
 *****************************************
 */
const
    path = require('path'),
    appendPath = path.resolve(__dirname, './append.js');


/**
 *****************************************
 * 抛出接口
 *****************************************
 */
module.exports = function ({ id, defs, locals }) {
    return `
    /**
     *****************************************
    * 加载依赖
    *****************************************
    */
    const append = require('${ appendPath }');


    /**
     *****************************************
    * 添加元素
    *****************************************
    */
    append(
        '${ id }',
        '<svg xmlns="http://www.w3.org/2000/svg"><defs>${ defs.join('') }</defs></svg>'
    );


    /**
     *****************************************
    * 抛出接口
    *****************************************
    */
    module.exports = ${ JSON.stringify(locals) };
    `;
};
